<!DOCTYPE html>
<html ng-app="app">

<head>
	<title>Promises, HTTP and Resources</title>
	<link rel="stylesheet" href="bootstrap.min.css">
</head>

<body ng-controller="labController">
	<div class="container">
		<h1>Promises, HTTP and Resources</h1>

		<input type="number" ng-model="model.number" class="form-control" />
		<input type="button" class="btn btn-primary" value="Check Odd Number" ng-click="checkOddNumber(model.number)" />

        <pre>{{model.result}}</pre>
        <input type ="textarea" ng-model ="model.org" class = "form-control" />

		<div><input type="button" class="btn btn-primary" value="Load Repos" ng-click="getRepos()" ng-hide="model.repos" /></div>

		<div class="col-md-6">
			<table class="table table-striped" ng-show="model.repos">
				<tr>
					<th>Name</th>
					<th>Language</th>
					<th></th>
				</tr>
				<tr ng-repeat="r in model.repos">
					<td>
						<h4>{{r.name}}</h4> {{r.description}}
					</td>
					<td>{{r.language}}</td>
					<td><input type="button" class="btn btn-primary" ng-click="loadDetail(r.name)" value="Detail"></td>
				</tr>
			</table>
		</div>

		<div class="col-md-5" ng-show="model.detail">
			<h3>Detail</h3>
			<div ng-show="model.detail.error" class="alert alert-danger">
				<h3>Error</h3>{{model.detail.message}}</div>

			<div>
				<h4>Name</h4>
				{{model.detail.name}}
			</div>

			<div>
				<h4>Description</h4>
				{{model.detail.description}}
			</div>

			<div>
				<h4>URL</h4>
				<a ng-href="{{model.detail.html_url}}" target="_blank">{{model.detail.html_url}}</a>
			</div>

            <h4>Raw Data</h4>
            <pre>{{model.detail | json}}</pre>
		</div>
	</div>

	<script src="angular.min.js"></script>
    <script src="angular-resource.min.js"></script>
    <script src="gitHubService.js"></script>
	<script src="app.js"></script>
	<script src="labController.js"></script>
</body>

</html>